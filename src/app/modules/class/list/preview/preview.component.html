<nz-tabset>
  <nz-tab nzTitle="老师">
    <nz-table #basicTable [nzShowPagination]="false" [nzPageSize]="10000" [nzData]="teacherList">
      <thead>
        <tr>
          <th>头像</th>
          <th>名字</th>
          <th>性别</th>
          <th>角色</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of basicTable.data">
          <td><nz-avatar nzShape="square" nzPlacement="rightBottom" [nzSrc]="data.photoUrl"></nz-avatar></td>
          <td>{{data.name}}</td>
          <td>{{data.sex ==  1 ? '男' : '女'}}</td>
          <td>{{data.roleName}}</td>
        </tr>
      </tbody>
    </nz-table>
  </nz-tab>
  <nz-tab nzTitle="孩子">
    <div class="button">
      <nz-button-group>
        <button nz-button nzType="primary" nz-popover nzTitle="选择事件" nzTrigger="click" [nzContent]="contentTemplate"
          [(nzVisible)]="showEventList">新增事件</button>
        <ng-template #contentTemplate>
          <ul nz-menu class="popover-content">
            <li nz-menu-item *ngFor="let item of eventList">
              <a href="javascript:;" (click)="addEvent(item)">{{ item.eventName }} <span *ngIf="item.eventType == 1" style="color: #E10000">(不可批量添加)</span></a>
            </li>
          </ul>
        </ng-template>
        <button nz-button nzType="primary" (click)="classChange()">转班</button>
      </nz-button-group>
    </div>

    <nz-table #basicTable1 [nzShowPagination]="false" [nzPageSize]="10000" [nzData]="childrenList" (nzCurrentPageDataChange)="currentPageDataChange($event)">
      <thead>
        <tr>
          <th nzShowCheckbox [(nzChecked)]="allChecked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="checkAll($event)"></th>
          <th>头像</th>
          <th>名字</th>
          <th>小名</th>
          <th>性别</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of basicTable1.data">
          <td nzShowCheckbox [(nzChecked)]="data.checked" [nzDisabled]="data.disabled" (nzCheckedChange)="refreshStatus()"></td>
          <td><nz-avatar nzShape="square" nzPlacement="rightBottom" [nzSrc]="data.headPhoto"></nz-avatar></td>
          <td>{{data.studentName}}</td>
          <td>{{data.nickName}}</td>
          <td>{{data.sex}}</td>
        </tr>
      </tbody>
    </nz-table>
  </nz-tab>
</nz-tabset>



<nz-modal [(nzVisible)]="showChangeClass" nzTitle="转班" 
  (nzOnCancel)="showChangeClass = false" 
  (nzOnOk)="changeClassEnter()"
  [nzOkLoading]="changeClassLoading">
  <form nz-form [formGroup]="changeClassGroup">
    <nz-form-item>
      <nz-form-label nzRequired>班级</nz-form-label>
      <nz-form-control>
        <nz-select formControlName="classId" nzPlaceHolder="请选择班级">
          <nz-option *ngFor="let option of classList" [nzLabel]="option.className" [nzValue]="option.id"></nz-option>
        </nz-select>
        <nz-form-explain *ngIf="changeClassGroup.get('classId').dirty && changeClassGroup.get('classId').hasError('required')">请选择班级！</nz-form-explain>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label nzRequired nzFor="content">转班原因</nz-form-label>
      <nz-form-control>
        <textarea nz-input formControlName="content" name="content" [nzAutosize]="{ minRows: 4, maxRows: 4 }" placeholder="请输入转班原因"></textarea>
        <nz-form-explain *ngIf="changeClassGroup.get('content').dirty && changeClassGroup.get('content').hasError('required')">请输入转班原因！</nz-form-explain>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-modal>